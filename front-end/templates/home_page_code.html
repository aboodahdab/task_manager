<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - Tasks</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      sidebar.classList.toggle("-translate-x-full");
    }

    function toggleAddTaskModal() {
      const modal = document.getElementById("add_task_div");
      modal.classList.toggle("hidden");
    }
  </script>
</head>

<body class="min-h-screen flex flex-col md:flex-row bg-gray-100">
  <!-- Sidebar -->
  <aside
    id="sidebar"
    class="fixed top-0 left-0 w-64 h-full bg-gray-800 text-white flex flex-col transform transition-transform duration-300 ease-in-out -translate-x-full md:translate-x-0 z-50 sm:not-focus-within:hidden"
  >
    <div class="m-6">
      <h2 class="text-2xl font-bold mb-6">ðŸ“‹ Dashboard</h2>
      <ul class="space-y-4">
        <li class="hover:text-gray-300 cursor-pointer">Home</li>
        <li class="hover:text-gray-300 cursor-pointer">Completed Tasks</li>
        <li class="hover:text-gray-300 cursor-pointer">Calendar</li>
      </ul>
    </div>
    <div class="flex-grow"></div>
    <div class="pd-0 w-full flex">
      <!-- <li class="hover:text-gray-300 mt-4 cursor-pointer">Settings</li> -->
      <div
        class="hover:bg-gray-700/50 cursor-pointer border-t border-gray-600 w-full pb-2 pt-2 relative"
        id="settings-btn"
        onclick="toggleSettingsDropUp(this)"
      >
        <div
          class="absolute bg-white left-[8px] bg-white right-[8px] px-2 border border-gray-200 rounded-lg shadow-lg hidden z-50"
          style="bottom: calc(100% + 8px)"
          id="the-drop-up"
        >
          <div class="flex justify-between pt-2">
            <p id="user-email" class="text-gray-700 pl-2 text-[14px]"></p>
          </div>
          <button
            class="block w-full text-left my-2 py-1 gap-2 rounded-md pl-2 flex text-sm text-gray-700 hover:bg-gray-100 capitalize"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              style="flex-shrink: 0"
            >
              <path
                d="M10.5488 2C11.3503 2 12 2.64973 12 3.45117C12 3.64554 12.1376 3.85418 12.3848 3.95215C12.4534 3.97933 12.5215 4.00769 12.5889 4.03711L12.6797 4.06934C12.8914 4.12916 13.094 4.07583 13.2148 3.95508C13.7824 3.38817 14.7023 3.38882 15.2695 3.95605L16.0439 4.73047L16.1436 4.84082C16.6091 5.41137 16.5761 6.25346 16.0439 6.78516C15.9061 6.92297 15.8568 7.16748 15.9629 7.41016L16.0479 7.61523L16.0898 7.70215C16.1981 7.8943 16.3787 7.99998 16.5488 8C17.3503 8 18 8.64973 18 9.45117V10.5488C18 11.3503 17.3503 12 16.5488 12C16.3787 12 16.1982 12.1057 16.0898 12.2979L16.0479 12.3848C16.0206 12.4533 15.9923 12.5216 15.9629 12.5889C15.8567 12.8317 15.9059 13.0768 16.0439 13.2148C16.6113 13.7823 16.6113 14.7021 16.0439 15.2695L15.2695 16.0439C14.7021 16.6113 13.7823 16.6113 13.2148 16.0439C13.0941 15.9232 12.8914 15.87 12.6797 15.9297L12.5889 15.9629C12.5219 15.9921 12.4539 16.0198 12.3857 16.0469C12.1385 16.1449 12.0002 16.3534 12 16.5479C12 17.3496 11.3496 18 10.5479 18H9.45215C8.6504 18 8 17.3496 8 16.5479C7.99981 16.3776 7.89419 16.1969 7.70215 16.0889L7.61523 16.0469C7.5465 16.0197 7.4777 15.9914 7.41016 15.9619C7.16721 15.8561 6.92289 15.9062 6.78516 16.0439C6.25346 16.5761 5.41137 16.6091 4.84082 16.1436L4.73047 16.0439L3.95605 15.2695C3.38882 14.7023 3.38817 13.7824 3.95508 13.2148L4.00293 13.1582C4.089 13.0359 4.1206 12.8611 4.06934 12.6797L4.03711 12.5889C4.00769 12.5215 3.97933 12.4534 3.95215 12.3848C3.85418 12.1376 3.64554 12 3.45117 12C2.64973 12 2 11.3503 2 10.5488V9.45117C2 8.64973 2.64973 8 3.45117 8C3.64551 7.99998 3.85336 7.86221 3.95117 7.61523L4.03711 7.41016L4.06934 7.31934C4.12058 7.13786 4.0891 6.963 4.00293 6.84082L3.95508 6.78516C3.38796 6.21804 3.38796 5.29759 3.95508 4.73047L4.73047 3.95508L4.84082 3.85547C5.41121 3.39018 6.25345 3.42338 6.78516 3.95508C6.92296 4.09285 7.16718 4.14308 7.41016 4.03711C7.47794 4.00754 7.54625 3.97848 7.61523 3.95117C7.86221 3.85336 7.99998 3.64551 8 3.45117C8 2.64973 8.64973 2 9.45117 2H10.5488ZM9.45117 3C9.20202 3 9 3.20202 9 3.45117C8.99998 4.12476 8.54338 4.66017 7.9834 4.88184C7.92515 4.9049 7.86686 4.92814 7.80957 4.95312C7.25608 5.19449 6.55378 5.13969 6.07715 4.66309C5.92261 4.50854 5.68432 4.48855 5.50879 4.60449L5.43848 4.66309L4.66309 5.43848C4.48649 5.61507 4.48649 5.90055 4.66309 6.07715C5.10986 6.52395 5.18607 7.1692 4.99512 7.7041L4.95312 7.80957C4.92814 7.86686 4.9049 7.92515 4.88184 7.9834C4.66017 8.54338 4.12476 8.99998 3.45117 9C3.20202 9 3 9.20202 3 9.45117V10.5488C3 10.798 3.20202 11 3.45117 11C4.12476 11 4.65999 11.4569 4.88184 12.0166C4.90472 12.0743 4.92834 12.1317 4.95312 12.1885C5.1948 12.7421 5.13958 13.4449 4.66309 13.9219C4.48628 14.0988 4.48621 14.3856 4.66309 14.5625L5.4375 15.3369L5.50879 15.3955C5.6843 15.5112 5.92272 15.4914 6.07715 15.3369C6.55382 14.8599 7.25685 14.8044 7.81055 15.0459C7.86752 15.0707 7.92546 15.0943 7.9834 15.1172L8.08691 15.1631C8.59842 15.4071 8.99981 15.9165 9 16.5479C9 16.7973 9.20268 17 9.45215 17H10.5479C10.7973 17 11 16.7973 11 16.5479C11.0002 15.8742 11.4568 15.3391 12.0166 15.1172C12.0743 15.0943 12.1317 15.0707 12.1885 15.0459L12.2939 15.0039C12.8292 14.8126 13.4747 14.8898 13.9219 15.3369C14.0988 15.5138 14.3856 15.5138 14.5625 15.3369L15.3369 14.5625C15.5138 14.3856 15.5138 14.0988 15.3369 13.9219C14.86 13.445 14.8046 12.7424 15.0469 12.1885C15.0718 12.1315 15.0952 12.0735 15.1182 12.0156L15.1641 11.9121C15.4084 11.4013 15.9175 11 16.5488 11C16.798 11 17 10.798 17 10.5488V9.45117C17 9.20202 16.798 9 16.5488 9C15.9172 8.99998 15.4081 8.59825 15.1641 8.08691L15.1182 7.9834L15.0459 7.81055C14.8038 7.25675 14.8599 6.55381 15.3369 6.07715C15.4914 5.92272 15.5112 5.6843 15.3955 5.50879L15.3369 5.4375L14.5625 4.66309C14.4079 4.50844 14.169 4.48878 13.9932 4.60449L13.9219 4.66309C13.4449 5.13958 12.7421 5.1948 12.1885 4.95312L12.0166 4.88184C11.4569 4.65999 11 4.12476 11 3.45117C11 3.20202 10.798 3 10.5488 3H9.45117ZM10 7C11.6569 7 13 8.34315 13 10C13 11.6569 11.6569 13 10 13C8.34315 13 7 11.6569 7 10C7 8.34315 8.34315 7 10 7ZM10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8Z"
              ></path>
            </svg>
            settings
          </button>
          <button
            class="block w-full text-left my-2 py-1 rounded-md pl-2 gap-2 flex text-sm text-gray-700 hover:bg-gray-100 capitalize"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              style="flex-shrink: 0"
            >
              <path
                d="M7.2705 3.0498C11.1054 1.5437 15.4369 3.42942 16.9473 7.26367C18.4585 11.1003 16.5729 15.4359 12.7363 16.9473C8.89982 18.4583 4.56416 16.5736 3.05272 12.7373C1.54288 8.90435 3.42282 4.57201 7.25194 3.05663C7.25547 3.05522 7.25914 3.05413 7.26269 3.05273C7.26523 3.05172 7.26795 3.05079 7.2705 3.0498ZM8.64159 14.5283C8.05764 14.958 7.56418 15.4198 7.17772 15.8896C8.21355 16.3858 9.37633 16.6096 10.5508 16.5098C10.2224 16.2862 9.89754 16.0029 9.58202 15.6748C9.26312 15.3432 8.94744 14.9583 8.64159 14.5283ZM13.1572 12.5351C12.5305 12.6659 11.8818 12.8585 11.2275 13.1162C10.5729 13.3741 9.96666 13.6758 9.41894 14.0078C9.6946 14.3937 9.97385 14.7371 10.2539 15.0283C10.7036 15.4959 11.1332 15.8156 11.5117 15.9863C11.8879 16.1559 12.1765 16.1643 12.3935 16.0791C12.6107 15.9936 12.8179 15.7903 12.9775 15.4092C13.1379 15.0262 13.2342 14.4991 13.2441 13.8506C13.2503 13.4466 13.2187 13.0053 13.1572 12.5351ZM3.63768 8.51855C3.34594 9.76629 3.4167 11.1121 3.92186 12.3945C4.42675 13.6762 5.29203 14.7083 6.35546 15.4219C6.82009 14.8304 7.4201 14.2628 8.12694 13.748C7.6691 12.9972 7.2458 12.1466 6.88378 11.2275C6.52163 10.3082 6.25055 9.397 6.07323 8.53515C5.20566 8.64053 4.38055 8.63422 3.63768 8.51855ZM16.081 12.3828C15.4777 12.3027 14.8015 12.3016 14.081 12.3857C14.1506 12.9087 14.1838 13.4053 14.1767 13.8652C14.1698 14.3208 14.124 14.75 14.0361 15.1377C14.9636 14.4096 15.6617 13.4524 16.081 12.3828ZM11.0947 6.7705C10.4885 7.14026 9.82394 7.47239 9.11425 7.75195C8.40436 8.03157 7.69176 8.2418 6.99608 8.38476C7.16147 9.17591 7.41289 10.0225 7.75292 10.8857C8.09272 11.7483 8.48601 12.5376 8.90429 13.2285C9.51056 12.8587 10.176 12.5276 10.8857 12.248C11.5954 11.9685 12.3075 11.7572 13.0029 11.6143C12.8376 10.8236 12.5869 9.97794 12.2471 9.11523C11.907 8.25206 11.5133 7.46188 11.0947 6.7705ZM13.6426 4.57714C13.178 5.16855 12.5788 5.73625 11.8721 6.25097C12.3302 7.00222 12.754 7.85307 13.1162 8.77245C13.4782 9.69152 13.7485 10.6024 13.9258 11.4639C14.7932 11.3584 15.6185 11.3649 16.3613 11.4805C16.6528 10.233 16.5841 8.88752 16.0791 7.60546C15.5738 6.32297 14.707 5.29067 13.6426 4.57714ZM5.9619 4.86327C5.03547 5.59096 4.33712 6.54756 3.91796 7.6162C4.52106 7.69641 5.19677 7.69821 5.91698 7.61425C5.84736 7.09104 5.81616 6.59385 5.82323 6.13378C5.83026 5.679 5.87418 5.25038 5.9619 4.86327ZM8.48827 4.01367C8.11174 3.8439 7.82256 3.83644 7.60546 3.92187C7.38849 4.0075 7.182 4.20998 7.02245 4.59081C6.86212 4.97369 6.76585 5.50006 6.75585 6.14843C6.74965 6.55226 6.78027 6.99382 6.84179 7.46386C7.46863 7.33317 8.11803 7.14252 8.77245 6.88476C9.42675 6.62702 10.0316 6.32305 10.5791 5.9912C10.3036 5.6057 10.0259 5.26167 9.74608 4.9707C9.29651 4.50322 8.8667 4.18435 8.48827 4.01367ZM12.8223 4.10937C11.7866 3.61351 10.6234 3.3904 9.44921 3.49023C9.77744 3.71355 10.1026 3.99633 10.418 4.32421C10.7368 4.65579 11.0526 5.04068 11.3584 5.4707C11.9424 5.04095 12.4358 4.57931 12.8223 4.10937Z"
              ></path>
            </svg>
            language
          </button>
          <button
            class="block w-full text-left flex py-1 gap-2 my-2 rounded-md pl-2 capitalize text-sm text-red-600 hover:bg-red-100"
            id="log-out-btn"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              style="flex-shrink: 0"
            >
              <path
                d="M9.5 3C10.3284 3 11 3.67157 11 4.5V7.5L10.9902 7.60059C10.9437 7.82855 10.7417 8 10.5 8C10.2583 8 10.0563 7.82855 10.0098 7.60059L10 7.5V4.5C10 4.22386 9.77614 4 9.5 4H4.5L4.39941 4.00977C4.17145 4.05629 4 4.25829 4 4.5V15.5C4 15.7761 4.22386 16 4.5 16H9.5C9.74171 16 9.94371 15.8286 9.99023 15.6006L10 15.5V12.5C10 12.2239 10.2239 12 10.5 12C10.7761 12 11 12.2239 11 12.5V15.5L10.9922 15.6533C10.9154 16.4097 10.2767 17 9.5 17H4.5C3.67157 17 3 16.3284 3 15.5V4.5C3 3.72334 3.59028 3.08461 4.34668 3.00781L4.5 3H9.5ZM12.6201 6.6748C12.7998 6.46522 13.1155 6.44063 13.3252 6.62012L16.8252 9.62012L16.8994 9.69922C16.9641 9.78514 17 9.89052 17 10C17 10.146 16.936 10.2849 16.8252 10.3799L13.3252 13.3799L13.2422 13.4375C13.0389 13.5503 12.7773 13.5086 12.6201 13.3252C12.4631 13.1417 12.4618 12.877 12.6045 12.6934L12.6748 12.6201L15.1484 10.5H7.5C7.22386 10.5 7 10.2761 7 10C7 9.72386 7.22386 9.5 7.5 9.5H15.1484L12.6748 7.37988C12.4652 7.20024 12.4406 6.88447 12.6201 6.6748Z"
              ></path>
            </svg>
            Logout
          </button>
        </div>
        <div class="pl-4 flex gap-2 items-center">
          <label for="">
            <img
              src="https://secure.gravatar.com/avatar/a8e040142716a4b44d014d80fbcf99c635b1d8faabfe469b6954a8ef2f168595?s=80&d=retro&r=pg"
              alt=""
              onclick="document.getElementById('file-input').click()"
              class="h-[40px] w-[40px] rounded-full mt-1 cursor-pointer"
              id="user-img"
            />
            <input
              id="file-input"
              type="file"
              accept="image/*"
              class="hidden"
            />
          </label>
          <div>
            <div class="pt-1 capitalize" id="user-name-drop-up"></div>
            <div class="capitalize text-[12px] text-[#9c9a92]">free plan</div>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main content -->
  <div class="flex-1 flex flex-col w-full md:ml-64">
    <!-- Top bar for mobile -->
    <header
      class="md:hidden bg-white shadow p-4 flex justify-between items-center"
    >
      <button
        onclick="toggleSidebar()"
        class="text-gray-800 text-2xl focus:outline-none"
      >
        â˜°
      </button>
      <h1 class="text-xl font-semibold">Dashboard</h1>
    </header>

    <!-- Page content -->
    <main class="flex-1 p-6 overflow-y-auto">
      <!-- Add Task Modal -->
      <div
        id="add_task_div"
        class="absolute inset-0 flex justify-center items-center z-20 hidden"
      >
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-semibold">Add Task</h2>
            <button
              id="close_add_task"
              onclick="toggleAddTaskModal()"
              class="text-gray-500 hover:text-red-600 text-xl font-bold"
            >
              &times;
            </button>
          </div>

          <form class="flex flex-col gap-4">
            <input
              type="text"
              id="task_name_input"
              placeholder="Task's name"
              class="border w-full border-gray-300 p-2 rounded text-base font-normal"
            />
            <input
              type="date"
              id="task_due_date_input"
              class="border w-full border-gray-300 p-2 rounded text-base font-normal"
            />
            <select
              id="task_status"
              class="border w-full border-gray-300 p-2 rounded text-base font-normal"
            >
              <option value="in-progress" id="option2">In Progress</option>
              <option value="overdue" id="option1" disabled>Overdue</option>
              <option value="not-started" id="option3">Not Started</option>
            </select>
            <div
              id="task_error_div"
              class="text-medium text-red-600 font-medium flex justify-center hidden"
            >
              <p id="task_error_p">you are</p>
            </div>
            <button
              id="add_task_btn"
              type="button"
              class="mt-2 w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-base font-medium"
            >
              Add Task
            </button>
          </form>
        </div>
      </div>

      <!-- Header -->
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-gray-800">My Tasks</h1>
        <button
          id="add_task"
          onclick="toggleAddTaskModal()"
          class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
        >
          + Add Task
        </button>
      </div>
      <div class="flex flex-wrap justify-center gap-4 mb-6">
        <button
          type="button"
          id="clear_button"
          class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 hidden"
        >
          Clear
        </button>
        <select id="status_filter" class="p-2 border rounded">
          <option value="">All Statuses</option>
          <option value="not-started">Not Started</option>
          <option value="in-progress">In Progress</option>
          <option value="overdue">Overdue</option>
        </select>

        <select id="date_filter" class="p-2 border rounded">
          <option value="">All Dates</option>
          <option value="today">Today</option>
          <option value="this_week">This Week</option>
          <option value="next_week">next Week</option>
          <option value="this_month">this Month</option>
          <option value="overdue">Overdue</option>
        </select>
        <div class="">
          <input
            type="text"
            id="search_input"
            placeholder="Search tasks..."
            class="p-2 border rounded w-64"
          />
        </div>

        <button
          type="button"
          id="filiter_button"
          class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
        >
          Find Tasks
        </button>
      </div>
      <div
        id="error-no-tasks-found"
        class="text-center text-[22px] md:text-[24px] lg:text-[26px] hidden"
      >
        <h1 class="text-red-800">No Tasks Found!</h1>
        <p class="text-[18px] md:text-[20px]" id="pargraph_no_tasks">
          You have no tasks yet!
        </p>
      </div>
      <div class="space-y-4" id="tasks_div">
        <!-- Render tasks dynamically here -->
      </div>
    </main>
  </div>
</body>
